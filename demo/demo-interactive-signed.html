<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHP Protocol - Interactive Demo</title>
    
    <!-- SHP Metadata (will be replaced by signer) -->
    <meta name="shp-signature" content="hNirA1BV0WWdg0sDB4U1CE2ksnH03j9FZELPnrfzPCcQd5ttnY5mk+iV0NtFbcG9Hvzs+ta98wYL01mUnCRVM+D41pcm33gPrpybbyIkGFKt0+M8fIWcn4F1t3S6X0MaQ4lTdPjO7XbTHOWZy+Mch4Q/suMiniwdtOC15o61FmEC5SJc9dqIOIa1gghSmOEcUg3bdziXdlfp+3eLczRtgyNEYrEw2wkhDI6Wg18Q8GwsNXrqnyY7urt1EpRPFRMJPi1zlChcyhbHISFURxa387ywNrtH3eEjWOrlYcyqqUuZJZXvDojLyCiHHlABWntPgPltE/QH+cDCSz5ARshMyg==">
    <meta name="shp-algorithm" content="SHA-256">
    <meta name="shp-pubkey" content="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlISJ3E5Kt7bQheOTtAHXdVr8MMY2fP2m0MCfRLQ/kaTtQ7hD78hZbRdgVMZUO0zvr2szGZR8uBYkHlQr64RvdM/fY7FB4qHUszO0J6dBlQEc3JQXPUdfTrnigkjp8wB1caNaurS8lib+NnQOAhQla3Acw+oPl+kFY3H2dwAyYxZ/hCf31cPWo/zxBHUVd+ELxO0WFoJswCJE2317XlUD7rRqcxyhzfGGhbJBL4M/hx5tRwRxyq/88xLuo8XxMATgf711lJMfl8COukm6tqWJMFJou9y2Xo2iFSudPnXeQAWJdFOZVptwXND01o/YImkIQPrH20H0evZljsYy65EHoQIDAQAB">
    <meta name="shp-timestamp" content="2025-11-21T10:00:00Z">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        h1 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        .tagline {
            color: #666;
            font-size: 1.1em;
        }
        
        .demo-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .card h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .status-indicator {
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s;
        }
        
        .status-valid {
            background: #10b981;
            color: white;
        }
        
        .status-invalid {
            background: #ef4444;
            color: white;
        }
        
        .status-unknown {
            background: #f3f4f6;
            color: #666;
        }
        
        .attack-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #5568d3;
        }
        
        button.danger {
            background: #ef4444;
        }
        
        button.danger:hover {
            background: #dc2626;
        }
        
        button.success {
            background: #10b981;
        }
        
        button.success:hover {
            background: #059669;
        }
        
        .log {
            background: #1f2937;
            color: #10b981;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            padding: 15px;
            border-radius: 5px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
        }
        
        .log-entry {
            margin-bottom: 5px;
        }
        
        .log-error {
            color: #ef4444;
        }
        
        .log-success {
            color: #10b981;
        }
        
        .log-info {
            color: #60a5fa;
        }
        
        .visualization {
            padding: 20px;
            background: #f3f4f6;
            border-radius: 5px;
            margin-top: 15px;
        }
        
        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 20px 0;
        }
        
        .flow-node {
            background: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            flex: 1;
            text-align: center;
            margin: 0 5px;
        }
        
        .flow-arrow {
            font-size: 2em;
            color: #667eea;
        }
        
        .content-display {
            background: #f9fafb;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            border: 2px solid #e5e7eb;
        }
        
        .tampered {
            border-color: #ef4444;
            background: #fee;
        }
        
        @media (max-width: 768px) {
            .demo-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîí SHP Protocol - Interactive Demo</h1>
            <p class="tagline">See how cryptographic signatures protect web content from tampering</p>
        </div>
        
        <div class="demo-section">
            <div class="card">
                <h2>üéØ Security Status</h2>
                <div id="status-indicator" class="status-indicator status-unknown">
                    ‚è≥ Verifying signature...
                </div>
                
                <div class="visualization">
                    <h3>Content Integrity Check:</h3>
                    <div class="flow-diagram">
                        <div class="flow-node">
                            <strong>Origin Server</strong><br>
                            Signs content
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-node">
                            <strong>Browser</strong><br>
                            Verifies signature
                        </div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-node" id="result-node">
                            <strong>Result</strong><br>
                            <span id="result-text">Checking...</span>
                        </div>
                    </div>
                </div>
                
                <div class="content-display" id="content-display">
                    <h3>Protected Content:</h3>
                    <p id="protected-content">This content is cryptographically signed and verified.</p>
                </div>
            </div>
            
            <div class="card">
                <h2>‚ö° Attack Simulation</h2>
                <p style="margin-bottom: 15px; color: #666;">
                    Try to modify the content and see how SHP detects tampering instantly:
                </p>
                
                <div class="attack-buttons">
                    <button class="danger" onclick="simulateAttack('inject')">
                        üíâ Inject Malicious Script
                    </button>
                    <button class="danger" onclick="simulateAttack('modify')">
                        ‚úèÔ∏è Modify Content
                    </button>
                    <button class="danger" onclick="simulateAttack('remove')">
                        üóëÔ∏è Remove Elements
                    </button>
                    <button class="success" onclick="restoreOriginal()">
                        üîÑ Restore Original
                    </button>
                </div>
                
                <div class="log" id="security-log">
                    <div class="log-entry log-info">[SHP] Initializing security verification...</div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h2>üìä How It Works</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 15px;">
                <div style="padding: 15px; background: #f3f4f6; border-radius: 5px;">
                    <strong>1Ô∏è‚É£ Server Signs</strong>
                    <p style="color: #666; margin-top: 5px;">Origin server validates HTML and creates cryptographic signature using private key.</p>
                </div>
                <div style="padding: 15px; background: #f3f4f6; border-radius: 5px;">
                    <strong>2Ô∏è‚É£ Browser Verifies</strong>
                    <p style="color: #666; margin-top: 5px;">Browser verifies signature using public key from server's certificate.</p>
                </div>
                <div style="padding: 15px; background: #f3f4f6; border-radius: 5px;">
                    <strong>3Ô∏è‚É£ Attack Detected</strong>
                    <p style="color: #666; margin-top: 5px;">Any modification breaks signature - tampering detected immediately.</p>
                </div>
                <div style="padding: 15px; background: #f3f4f6; border-radius: 5px;">
                    <strong>4Ô∏è‚É£ User Protected</strong>
                    <p style="color: #666; margin-top: 5px;">Invalid signatures prevent malicious content from being trusted.</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Original content
        const ORIGINAL_CONTENT = "This content is cryptographically signed and verified.";
        let contentModified = false;
        
        // Add to security log
        function addLog(message, type = 'info') {
            const log = document.getElementById('security-log');
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }
        
        // Update status indicator
        function updateStatus(valid) {
            const indicator = document.getElementById('status-indicator');
            const resultNode = document.getElementById('result-node');
            const resultText = document.getElementById('result-text');
            const contentDisplay = document.getElementById('content-display');
            
            if (valid) {
                indicator.className = 'status-indicator status-valid';
                indicator.innerHTML = '‚úÖ Signature Valid<br><small>Content verified and trusted</small>';
                resultText.textContent = '‚úì Trusted';
                resultNode.style.background = '#d1fae5';
                contentDisplay.classList.remove('tampered');
            } else {
                indicator.className = 'status-indicator status-invalid';
                indicator.innerHTML = '‚ö†Ô∏è Signature Invalid<br><small>Content has been tampered with!</small>';
                resultText.textContent = '‚úó Tampered';
                resultNode.style.background = '#fee2e2';
                contentDisplay.classList.add('tampered');
            }
        }
        
        // Simulate different attack types
        function simulateAttack(type) {
            const contentEl = document.getElementById('protected-content');
            contentModified = true;
            
            switch(type) {
                case 'inject':
                    contentEl.innerHTML = ORIGINAL_CONTENT + '<script>alert("XSS Attack!")</script>';
                    addLog('‚ö†Ô∏è ATTACK DETECTED: Malicious script injection attempt', 'error');
                    addLog('Signature verification failed - attack blocked!', 'error');
                    break;
                case 'modify':
                    contentEl.textContent = "This content has been modified by attacker!";
                    addLog('‚ö†Ô∏è ATTACK DETECTED: Content modification attempt', 'error');
                    addLog('Signature verification failed - tampering detected!', 'error');
                    break;
                case 'remove':
                    contentEl.textContent = "";
                    addLog('‚ö†Ô∏è ATTACK DETECTED: Content removal attempt', 'error');
                    addLog('Signature verification failed - content missing!', 'error');
                    break;
            }
            
            updateStatus(false);
            addLog('üõ°Ô∏è SHP protected user from malicious content', 'info');
        }
        
        // Restore original content
        function restoreOriginal() {
            const contentEl = document.getElementById('protected-content');
            contentEl.textContent = ORIGINAL_CONTENT;
            contentModified = false;
            
            updateStatus(true);
            addLog('‚úÖ Content restored to original signed version', 'success');
            addLog('Signature verification passed - content trusted', 'success');
        }
        
        // Initial verification (simulate)
        setTimeout(() => {
            if (!contentModified) {
                updateStatus(true);
                addLog('‚úÖ Signature verification successful', 'success');
                addLog('Content integrity confirmed - safe to display', 'success');
                addLog('üìä Algorithm: SHA-256 with RSA-2048', 'info');
            }
        }, 1000);
    </script>
    
    <!-- SHP Polyfill (load after page content) -->
    <script src="shp-verify.js"></script>
</body>
</html>
